
(function(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e,i,s,o){typeof s=="function"&&(o=s,s={}),s.cache=s.cache||!1,s.data=s.data||{},s.headers=s.headers||{},s.headers.accept=s.headers.accept||"*/*",s.headers["content-type"]=s.headers["content-type"]||"application/x-www-form-urlencoded;charset=UTF-8",s.jsonp=s.jsonp||!1;var u=n(s.data);if(e==="GET"){var a=[];u&&(a.push(u),u=null),s.cache||a.push("_="+(new Date).getTime()),s.jsonp&&(a.push("callback="+s.jsonp),a.push("jsonp="+s.jsonp)),a="?"+a.join("&"),i+=a!=="?"?a:"";if(s.jsonp){var f=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.src=i,f.appendChild(l);return}}t(function(t,n){if(t)return o(t);r.auth?(n.withCredentials=!0,n.open(e,i,!0,r.auth.username,r.auth.password)):n.open(e,i,!0);for(var a in s.headers)s.headers.hasOwnProperty(a)&&n.setRequestHeader(a,s.headers[a]);n.onreadystatechange=function(){if(n.readyState===4){var e=n.responseText||"";o(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(u)})},i={allows:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},auth:function(e,t){r.auth={username:e,password:t}},connect:function(e,t,n){return r("CONNECT",e,t,n)},"delete":function(e,t,n){return r("DELETE",e,t,n)},get:function(e,t,n){return r("GET",e,t,n)},head:function(e,t,n){return r("HEAD",e,t,n)},options:function(e,t,n){return r("OPTIONS",e,t,n)},patch:function(e,t,n){return r("PATCH",e,t,n)},post:function(e,t,n){return r("POST",e,t,n)},put:function(e,t,n){return r("PUT",e,t,n)},trace:function(e,t,n){return r("TRACE",e,t,n)}};e.http=i})(this)