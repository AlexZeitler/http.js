
(function(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(e,r,i,o){typeof i=="function"&&(o=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1;var u=n(i.data);if(e==="GET"){var a=[];u&&(a.push(u),u=null),i.cache||a.push("_="+(new Date).getTime()),i.jsonp&&(a.push("callback="+i.jsonp),a.push("jsonp="+i.jsonp)),a="?"+a.join("&"),r+=a!=="?"?a:"";if(i.jsonp){var f=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.src=r,f.appendChild(l);return}}t(function(t,n){if(t)return o(t);n.open(e,r,!0);var a={accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"};for(var f in s.headers)s.headers.hasOwnProperty(f)&&(a[f]=s.headers[f]);for(var f in i.headers)i.headers.hasOwnProperty(f)&&(a[f]=i.headers[f]);for(var f in a)a.hasOwnProperty(f)&&n.setRequestHeader(f,a[f]);n.onreadystatechange=function(){if(n.readyState===4){var e=n.responseText||"";o(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(u)})},o={authBasic:function(e,t){s.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return s("CONNECT",e,t,n)},del:function(e,t,n){return s("DELETE",e,t,n)},get:function(e,t,n){return s("GET",e,t,n)},head:function(e,t,n){return s("HEAD",e,t,n)},headers:function(e){s.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},options:function(e,t,n){return s("OPTIONS",e,t,n)},patch:function(e,t,n){return s("PATCH",e,t,n)},post:function(e,t,n){return s("POST",e,t,n)},put:function(e,t,n){return s("PUT",e,t,n)},trace:function(e,t,n){return s("TRACE",e,t,n)}};e.http=o})(this)